{% extends "core/base.html" %}
{% block content %}
<h2 class="text-2xl font-semibold mb-4">הוספת שדה חדש</h2>
<p class="text-gray-400 text-sm mb-10 italic">
  אפשר להוסיף כמה סוגי פרטים:
  <br> •	טקסט כלשהו
  <br> •	מספר כלשהו
  <br> •	שדה של כן/לא לדוגמא: האם כולל אלבום
  <br>•	שדה עם כמה אפשרויות בחירה כמו צבע-אדום,כחול,ירוק,צהוב    
</p>

<form method="post" class="text-lg text-gray-700 leading-relaxed mb-6">
  {% csrf_token %}
  <label>שם השדה :</label>
  <input type="text" name="label" required><br>
  
  <label>סוג הסעיף:</label>
  <select name="type" id="field-type" onchange="toggleOptionsField()">
    <option value="string">טקסט</option>
    <option value="number">כמות</option>
    <option value="boolean">האם כלול בחבילה</option>
    <option value="choice">בחירה מרובה</option>
  </select><br>
  
  <div id="choices-field" style="display:none;">
    <label>אפשרויות (מופרדות בפסיקים):</label>
    <input type="text" name="choices" placeholder="קטן, בינוני, גדול">
  </div>
  <script>
    function toggleOptionsField() {
      const typeSelect = document.getElementById('field-type');
      const choicesDiv = document.getElementById('choices-field');
      choicesDiv.style.display = typeSelect.value === 'choice' ? 'block' : 'none';
    }
    </script>

  <label>ערך ברירת מחדל:</label>
    <input list="boolean-options" name="default" class="border p-2 rounded" value="{{ field.default }}">
    <datalist id="boolean-options">
      <option value="True">כן</option>
      <option value="False">לא</option>
    </datalist>

  <button type="submit" class="py-4 px-6 rounded-xl text-white"
     style="background-color: rgb(150, 157, 235);">שמור</button>
</form>
{% endblock %}
